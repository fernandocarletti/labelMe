(function(a){a.fn.labelMe=function(b){var c=a.extend({labelAttr:"rel",blurClass:"label_blur",labelClass:"label",addLineBreak:false,labelBefore:false,cleanOnFormSubmit:true},b);return a(this).each(function(){var b=a(this);if(c.cleanOnFormSubmit){var d=a(this).parents("form:first");if(d){d.submit(function(){if(b.val()==b.attr("rel")){b.val("")}})}}b.focus(function(){if(b.prop("tagName")in{INPUT:1,TEXTAREA:1}){if(b.attr("type")!=undefined&&b.attr("type")=="hidden"){return}if(b.prop("tagName")=="TEXTAREA"||b.attr("type").toLowerCase()=="text"){if(b.val()==b.attr(c.labelAttr)){b.val("").removeClass(c.blurClass)}}}else if(b.prop("tagName")=="SELECT"){if(b.val()==b.attr(c.labelAttr)){a("option:first",b).remove();b.removeClass(c.blurClass)}}});b.blur(function(){if(b.prop("tagName")in{INPUT:1,TEXTAREA:1}){if(b.attr("type")!=undefined&&b.attr("type")=="hidden"){return}if(b.prop("tagName")=="TEXTAREA"||b.attr("type").toLowerCase()=="text"){if(b.val()==""){b.val(b.attr(c.labelAttr)).addClass(c.blurClass)}}else if(b.attr("type").toLowerCase()in{radio:1,checkbox:1}){var d='<label for="'+b.attr("id")+'" class="'+c.labelClass+'">'+b.attr(c.labelAttr)+"</label>";if(c.addLineBreak){d=d+"<br />"}if(c.labelBefore){if(b.before().prop("tagName")!="LABEL"){b.before(d)}}else{if(b.after().prop("tagName")!="LABEL"){b.after(d)}}}}else if(b.prop("tagName")=="SELECT"){if(b.val()==""){var e=new Option(b.attr(c.labelAttr));b.prepend(e);a("option:first",b).attr("selected","selected");b.addClass(c.blurClass)}}});b.blur();if(c.addLineBreak){var e="<br />";if(!(b.attr("type")in{radio:1,checkbox:1})){b.after(e)}}})}})(jQuery)
